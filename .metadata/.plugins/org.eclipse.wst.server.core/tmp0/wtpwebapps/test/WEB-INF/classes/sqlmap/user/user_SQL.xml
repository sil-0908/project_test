<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="user">

	<insert id="insert">  
	    <![CDATA[
	    insert into USER (ID, EMAIL, PASSWORD, NICKNAME, PHONE_NUM)  
	    values (#{id}, #{email}, #{password}, #{nickname}, #{phone_num})
	    ]]>
	</insert>
	
	<!-- id 중복버튼 구현을 위한 조회 쿼리문 -->
	<select id="id_check" resultType="String">
		select ID
		  from USER
		 where ID=#{id}
	</select>
	
	<!-- 회원 가입 버튼 클릭 시 email, nickname, phone_num 중복 체크 -->
	<select id="signUpCheck" resultType="String">
		select NICKNAME
		  from USER
		 where NICKNAME=#{nickname}
	</select>
	
	<select id="login" resultType="String">
		select NICKNAME
		  from USER
		 where ID=#{id}
	</select>
	
	<select id="pwGet" resultType="String">
		select PASSWORD
		  from USER
		 where ID=#{id}
	</select>
	
	<select id="mydetail" resultType="hashMap">
		<![CDATA[
		select ID, EMAIL, PASSWORD, NICKNAME, PHONE_NUM
		  from USER
		 where ID=#{id}
		 ]]>
	</select>
	
	<update id="modify_detail">
		update USER
		   set NICKNAME=#{nickname}, PASSWORD=#{password}
		 where ID=#{id}
	</update>
	
	<select id="list" resultType="hashMap">
        select * from USER
         order by USER_ID asc
	</select>
	
	<!-- 게시판 구현 시 추가 - 02.07 장재호 -->
	<select id="idx" resultType="int">
		select USER_ID
		  from USER
		 where EMAIL=#{user}
	</select>
	
	<select id="findid" resultType="String">
        select ID 
          from USER
         where EMAIL = #{email}
	</select>
	
	<select id="findpw" resultType="hashMap">
        select ID 
          from USER
         where EMAIL = #{email}
	</select>
	
</mapper>