<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="video">

	<insert id="insert" parameterType="hashMap" useGeneratedKeys="true" keyProperty="VIDEO_ID">  
		<![CDATA[
		insert into VIDEO (TITLE, SUMMARY, VIDEO_URL,IMAGE_URL, CREATE_COUNTRY, CREATE_YEAR, GRADE) 
		values (#{title}, #{summary}, #{url},#{imgurl}, #{country}, #{year}, #{grade})
		]]>
	</insert> 
	
	<!--  비디오  전체조희 쿼리문 -->
	<select id="select_list" parameterType="hashMap" resultType="hashMap">
		<![CDATA[
		select VIDEO_ID,TITLE,IMAGE_URL,VIDEO_URL
		  from VIDEO
		 where 1=1
		]]>
	</select>
	 
	<!--  비디오 상세 조희 쿼리문 -->
	<select id="detail" resultType="String">
		<![CDATA[
		select TITLE,VIDEO_URL,IMAGE_URL,SUMMARY, CREATE_COUNTRY, CREATE_YEAR, GRADE
		  from VIDEO
		 where VIDEO_ID=#{videoid}
		]]>
	</select>
	
	<!-- 영상에 대한 영화배우 이름 받아오기 -->
	<select id="actor_info">
		<![CDATA[
		SELECT A.`ACTOR_NAME(KOR)` KOR
  		  FROM ACTOR A
  		  JOIN VIDEO_ACTOR VA
    		ON A.ACTOR_ID = VA.ACTOR_ID
  		  JOIN VIDEO V
    		ON VA.VIDEO_ID = V.VIDEO_ID;
    	]]>
	</select>
	
</mapper>