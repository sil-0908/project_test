<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="video">

	<insert id="insert" parameterType="hashMap" useGeneratedKeys="true" keyProperty="VIDEO_ID">  
		<![CDATA[
		insert into VIDEO (TITLE, SUMMARY, VIDEO_URL,IMAGE_URL, CREATE_COUNTRY, CREATE_YEAR, GRADE) 
		values (#{title}, #{summary}, #{url},#{imgurl}, #{country}, #{year}, #{grade})
		]]>
	</insert> 
	
	<!-- 비디오  전체조희 쿼리문  -->
	<select id="list" parameterType="hashMap" resultType="hashMap">
		<![CDATA[
		select v.VIDEO_ID, v.TITLE, v.IMAGE_URL, v.VIDEO_URL, c.CATEGORY_ID 
          from VIDEO v 
          join VIDEO_CATEGORY c on v.VIDEO_ID = c.VIDEO_ID 
         where 1=1 and (c.CATEGORY_ID = 1 or c.CATEGORY_ID = 2 or c.CATEGORY_ID = 3)
		]]>
	</select>
	 
	<!--  비디오 상세 조희 쿼리문 -->
	<select id="detail" resultType="String">
		<![CDATA[
		select TITLE,VIDEO_URL,IMAGE_URL,SUMMARY, CREATE_COUNTRY, CREATE_YEAR, GRADE
		  from VIDEO
		 where VIDEO_ID=#{videoId}
		]]>
	</select>
	  
	
</mapper>